{"version":3,"file":"js/404.js","mappings":"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","sources":["webpack://ventureoutdoors/./src/js/helpers/publisher.js","webpack://ventureoutdoors/webpack/bootstrap","webpack://ventureoutdoors/webpack/runtime/compat get default export","webpack://ventureoutdoors/webpack/runtime/define property getters","webpack://ventureoutdoors/webpack/runtime/hasOwnProperty shorthand","webpack://ventureoutdoors/external window \"jQuery\"","webpack://ventureoutdoors/./src/js/posts/filter.js","webpack://ventureoutdoors/./src/js/posts/banner-filter.js","webpack://ventureoutdoors/./src/js/404.js"],"sourcesContent":["let events = {}\r\nlet subscriberId = -1\r\n\r\nmodule.exports = {\r\n  publish (e, data) {\r\n    if (!events[e]) {\r\n      return false\r\n    }\r\n\r\n    const subsribers = events[e]\r\n    subsribers.forEach(subsriber => {\r\n      subsriber.callback(e, data)\r\n    })\r\n    return true\r\n  },\r\n\r\n  subscribe(e, callback) {\r\n    if (!events[e]) {\r\n      events[e] = []\r\n    }\r\n\r\n    subscriberId += 1\r\n    const token = subscriberId.toString()\r\n    events[e].push({\r\n      token: token,\r\n      callback: callback\r\n    })\r\n    return token;\r\n  },\r\n\r\n  unsubscribe(token) {\r\n    const found = Object.keys(events).some(event => \r\n      events[event].some((subsriber, index) => {\r\n        const isEqual = subsriber.token === token.toString()\r\n        if (isEqual) {\r\n          events[event].splice(index, 1)\r\n        }\r\n        return isEqual\r\n    }))\r\n\r\n    return found ? token : null\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","import $ from 'jquery'\r\n\r\nconst publisher = require('../helpers/publisher')\r\n\r\n/**\r\n * Class Filter.\r\n */\r\nclass Filter {\r\n  /**\r\n   * Contructor.\r\n   */\r\n  constructor() {\r\n    this.restUrl = siteConfig?.restUrl ?? ''\r\n    this.ajaxNonce = siteConfig?.ajax_nonce ?? ''\r\n    this.isOptionsProcessing = false;\r\n    this.isActivitiesProcessing = false;\r\n\r\n    this.resetFilterFields()\r\n\r\n    this.events()\r\n\r\n    this.init()\r\n  }\r\n\r\n  resetFilterFields() {\r\n    this.filterFields = {\r\n      type: [],\r\n      length: [],\r\n      difficulty: []\r\n    }\r\n  }\r\n\r\n  events() {\r\n    throw new Error('Implementation required.')\r\n  }\r\n\r\n  init() {\r\n    throw new Error('Implementation required')\r\n  }\r\n\r\n  addSpinner() {}\r\n  removeSpinner() {}\r\n\r\n  getData() {\r\n    var data = {}\r\n    for (const key in this.filterFields) {\r\n      if (this.filterFields[key].length !== 0) {\r\n        data[key] = this.filterFields[key]\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  filterActivities(callback) {\r\n    if (this.isOptionsProcessing || this.isActivitiesProcessing) {\r\n      return null;\r\n    }\r\n\r\n    var data = this.getData()\r\n    data['_wpnonce'] = this.ajaxNonce\r\n\r\n    this.isOptionsProcessing = true;\r\n    this.isActivitiesProcessing = true;\r\n    this.addSpinner()\r\n\r\n    $.ajax({\r\n      type: 'get',\r\n      url: this.restUrl + 'filter',\r\n      data: data,\r\n      success: (response) => {\r\n        callback(response)\r\n        this.isOptionsProcessing = false;\r\n        this.removeSpinner()\r\n      },\r\n      error: (response) => {\r\n        console.log(response);\r\n        this.isOptionsProcessing = false;\r\n        this.removeSpinner()\r\n      },\r\n    })\r\n\r\n    return $.ajax({\r\n      type: 'get',\r\n      url: this.restUrl + 'activities',\r\n      data: data,\r\n      success: (response) => {\r\n        $('.load-more-content-wrap').html(response.innerHTML);\r\n        publisher.publish('activitiesUpdated', { count: response.postCount })\r\n        this.isActivitiesProcessing = false;\r\n        this.removeSpinner()\r\n      },\r\n      error: (response) => {\r\n        console.log(response);\r\n        this.isActivitiesProcessing = false;\r\n        this.removeSpinner()\r\n      },\r\n    })\r\n  }\r\n}\r\n\r\nexport default Filter","import $ from 'jquery'\r\nimport Filter from './filter'\r\n\r\nconst publisher = require('../helpers/publisher')\r\n\r\n/**\r\n * Class Filter.\r\n */\r\nclass BannerFilter extends Filter {\r\n  /**\r\n   * Contructor.\r\n   */\r\n  constructor() {\r\n    super()\r\n    this.numberResults = $('.js-number-results');\r\n  }\r\n\r\n  // 2. events\r\n  events() {\r\n    $('.facetwp-facet').on('change', this.optionChanged.bind(this));\r\n    $('.js-frontpage-filter').on('click', this.redirect.bind(this));\r\n  }\r\n\r\n  init() {\r\n\t\tpublisher.subscribe('activitiesUpdated', this.updateResults.bind(this))\r\n  }\r\n\r\n\tupdateResults(e, data) {\r\n\t\tthis.numberResults.text(data.count.toString())\r\n  }\r\n\r\n  capitalize(s) {\r\n    const words = s.split('_');\r\n    $.each(words, function(i, word) {\r\n      words[i] = word[0].toUpperCase() + word.substring(1);\r\n    });\r\n    return words.join(' ');\r\n  }\r\n\r\n  updateBannerFilter(response) {\r\n    $('.facetwp-facet').each(function (index, item) {\r\n      var category = $(item).data('name');\r\n      category = category.substring(category.indexOf('_')+1);\r\n\r\n      var selectedIndex = $(`#${category}`).prop('selectedIndex');\r\n      $(`#${category}`).empty();\r\n\r\n      let filter = category.substring(category.indexOf('_')+1);\r\n      if (this.filter === undefined || this.filter !== category || (this.filter === category && $(item).val() == \"\")) {\r\n        $(`#${category}`).append(`<option value=\"\">${this.capitalize(category)}</option>`);\r\n        $.each(response[filter], function (key, value) {\r\n          if (value['count'] !== 0 || category === this.filter) {\r\n            let title = value['title'];\r\n            let slug = value['slug'];\r\n            if (category === 'difficulty') {\r\n              title = title.substr(0, title.length-1) + ' ' + title.substr(-1);\r\n            }\r\n            $(`#${category}`).append(`<option value=\"${slug}\">${title} (${value['count']})</option>`);\r\n          }\r\n        }.bind(this));\r\n        $(`#${category}`).selectric('refresh');\r\n        $(`#${category}`).prop('selectedIndex', selectedIndex).selectric('refresh');\r\n      }\r\n    }.bind(this));\r\n  }\r\n\r\n  // Event Handler\r\n\r\n  optionChanged(e) {\r\n    this.filter = $(e.currentTarget).data('name');\r\n    this.filter = this.filter.substring(this.filter.indexOf('_')+1);\r\n\r\n    const type = $('.facetwp-facet-frontpage_activity_type select option:selected').val();\r\n    const length = $('.facetwp-facet-frontpage_activity_length select').val();\r\n    const difficulty = $('.facetwp-facet-frontpage_difficulty_level select').val();\r\n\r\n    this.resetFilterFields();\r\n\r\n    if (type) {\r\n      this.filterFields['type'].push(type);\r\n    }\r\n    if (length) {\r\n      this.filterFields['length'].push(length);\r\n    }\r\n    if (difficulty) {\r\n      this.filterFields['difficulty'].push(difficulty);\r\n    }\r\n\r\n    this.filterActivities(this.updateBannerFilter.bind(this));\r\n  }\r\n\r\n  redirect() {\r\n    var queryString = [];\r\n\r\n    var url = '/activity-types';\r\n\r\n    const actType = $('.facetwp-facet-frontpage_activity_type select').val();\r\n    const actLength = $('.facetwp-facet-frontpage_activity_length select').val();\r\n    const actDifficulty = $('.facetwp-facet-frontpage_difficulty_level select').val();\r\n\r\n    if (actType === '' || actType == null) {\r\n        url = '/activities';\r\n    } else {\r\n        url += '/' + actType;\r\n    }\r\n    if (actLength !== '' && actLength != null) {\r\n        queryString.push('fvo_length=' + encodeURIComponent(actLength));\r\n    }\r\n    if (actDifficulty !== '' && actDifficulty != null) {\r\n        queryString.push('fvo_difficulty=' + encodeURIComponent(actDifficulty));\r\n    }\r\n    if (queryString.length > 0) {\r\n        url += '?' + queryString.join(\"&\");\r\n    }\r\n    window.location = url;\r\n  }\r\n}\r\n\r\nexport default BannerFilter","// Styles\r\nimport '../sass/404.scss'\r\n\r\nimport BannerFilter from './posts/banner-filter'\r\n\r\nnew BannerFilter()"],"names":["events","subscriberId","module","exports","publish","e","data","forEach","subsriber","callback","subscribe","token","toString","push","unsubscribe","Object","keys","some","event","index","isEqual","splice","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","publisher","require","Filter","this","restUrl","siteConfig","ajaxNonce","ajax_nonce","isOptionsProcessing","isActivitiesProcessing","resetFilterFields","init","filterFields","type","length","difficulty","Error","getData","addSpinner","$","url","success","response","removeSpinner","error","console","log","html","innerHTML","count","postCount","BannerFilter","numberResults","on","optionChanged","bind","redirect","updateResults","text","s","words","split","i","word","toUpperCase","substring","join","each","item","category","indexOf","selectedIndex","empty","filter","val","append","capitalize","value","title","slug","substr","selectric","currentTarget","filterActivities","updateBannerFilter","queryString","actType","actLength","actDifficulty","encodeURIComponent","location"],"sourceRoot":""}