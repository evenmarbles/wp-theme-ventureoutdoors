{"version":3,"file":"src_modules_page-filter_js.js","mappings":"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","sources":["webpack://venture-outdoors-classic/./src/modules/page-filter.js"],"sourcesContent":["import $ from 'jquery'\r\n\r\nclass PageFilter {\r\n  constructor() {\r\n    this.currrentPage = 1;\r\n    this.activitySearch = $('.activity-search');\r\n    this.isSidebarFilter = this.activitySearch.length;\r\n\r\n    this.url = window.location.pathname;\r\n    let pathname = this.url.split('/');\r\n    this.slug = pathname[pathname.length-2];\r\n\r\n    this.numberResults = $('.js-number-results');\r\n\r\n    this.resetFilterFields();\r\n\r\n    if (this.isSidebarFilter) {\r\n      this.sideFilter = $('.sidebar-filter-wrap');\r\n      this.activitySecCont = $('.sngl-activity-sec-cont .facetwp-template:first-child');\r\n\r\n      this.initializeFilterFields();\r\n    }\r\n    else {\r\n      this.getFilterSettings();\r\n    }\r\n\r\n    this.events();\r\n  }\r\n\r\n  // 2. events\r\n  events() {\r\n    if (this.isSidebarFilter) {\r\n      $('body').on('click', '.btn-activity-filter', this.toggleSideFilter.bind(this));\r\n      $('body').on('click', '.facetwp-load-more', this.loadMore.bind(this));\r\n      $('body').on('change', '.facetwp-checkbox', this.checkboxChanged.bind(this));\r\n    }\r\n\r\n    if (!this.isSidebarFilter) {\r\n      $('.facetwp-facet').on('change', this.selectedOptionChanged.bind(this));\r\n      $('.js-frontpage-filter').on('click', this.filterRedirect.bind(this));\r\n    }\r\n  }\r\n\r\n  // 3. methods\r\n  toggleSideFilter(e) {\r\n    if (this.sideFilter.is(':hidden')) {\r\n      this.sideFilter.slideDown('slow');\r\n    } else {\r\n      this.sideFilter.slideUp('fast', function() {\r\n        $('#sidebar').removeAttr('style');\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMore() {\r\n    this.currrentPage++;\r\n\r\n    let data = {\r\n      action: 'load_more',\r\n      paged: this.currrentPage,\r\n      slug: this.slug,\r\n    };\r\n    for (const key in this.filterFields) {\r\n      if (this.filterFields[key].length) {\r\n        data[key] = this.filterFields[key];\r\n      }\r\n    }\r\n\r\n    $.ajax({\r\n      type: 'POST',\r\n      url: '/wp-admin/admin-ajax.php',\r\n      context: this,\r\n      dataType: 'json',\r\n      data: data,\r\n      success: function (res) {\r\n        if (this.currrentPage >= res.max) {\r\n          $('.facetwp-load-more').hide();\r\n        }\r\n        this.activitySecCont.append(res.html);\r\n      }\r\n    });\r\n  }\r\n\r\n  checkboxChanged(e) {\r\n    let currentTarget = $(e.currentTarget);\r\n    let filter = currentTarget.parent().data('name').substr(9);\r\n\r\n    if (currentTarget.hasClass('checked')) {\r\n      currentTarget.removeClass('checked');\r\n      const index = this.filterFields[filter].indexOf(currentTarget.data('value'));\r\n      if (index > -1) {\r\n        this.filterFields[filter].splice(index, 1);\r\n      }\r\n    } else {\r\n      currentTarget.addClass('checked');\r\n      this.filterFields[filter].push(currentTarget.data('value'));\r\n    }\r\n\r\n    this.currrentPage = 1;\r\n    \r\n    this.getFilterSettings(this.filterUpdated.bind(this)).then( () => {\r\n      $('html, body').animate({\r\n        scrollTop: $('.activity-search').offset().top\r\n      }, 500);\r\n    });\r\n  }\r\n\r\n  selectedOptionChanged(e) {\r\n    this.filter = $(e.currentTarget).data('name');\r\n    this.filter = this.filter.substring(this.filter.indexOf('_')+1);\r\n\r\n    const type = $('.facetwp-facet-frontpage_activity_type select option:selected').val();\r\n    const length = $('.facetwp-facet-frontpage_activity_length select').val();\r\n    const difficulty = $('.facetwp-facet-frontpage_difficulty_level select').val();\r\n\r\n    this.resetFilterFields();\r\n\r\n    if (type) {\r\n      this.filterFields['type'].push(type);\r\n    }\r\n    if (length) {\r\n      this.filterFields['length'].push(length);\r\n    }\r\n    if (difficulty) {\r\n      this.filterFields['difficulty'].push(difficulty);\r\n    }\r\n\r\n    this.getFilterSettings(this.updateBannerFilter.bind(this));\r\n  }\r\n\r\n  filterRedirect() {\r\n    var queryString = [];\r\n\r\n    var url = '/activity-types';\r\n\r\n    const actType = $('.facetwp-facet-frontpage_activity_type select').val();\r\n    const actLength = $('.facetwp-facet-frontpage_activity_length select').val();\r\n    const actDifficulty = $('.facetwp-facet-frontpage_difficulty_level select').val();\r\n\r\n    if (actType === '' || actType == null) {\r\n        url = '/activities';\r\n    } else {\r\n        url += '/' + actType;\r\n    }\r\n    if (actLength !== '' && actLength != null) {\r\n        queryString.push('fvo_length=' + encodeURIComponent(actLength));\r\n    }\r\n    if (actDifficulty !== '' && actDifficulty != null) {\r\n        queryString.push('fvo_difficulty=' + encodeURIComponent(actDifficulty));\r\n    }\r\n    if (queryString.length > 0) {\r\n        url += '?' + queryString.join(\"&\");\r\n    }\r\n    window.location = url;\r\n  }\r\n\r\n  resetFilterFields() {\r\n    this.filterFields = {\r\n      type: [],\r\n      length: [],\r\n      difficulty: []\r\n    };\r\n  }\r\n\r\n  initializeFilterFields() {\r\n    $.each(['fvo_length', 'fvo_difficulty'], function (index, name) {\r\n      var value = this.getParameterByName(name)\r\n      if (value !== null) {\r\n        var inpt = $(`label[data-value='${value}'] > input`);\r\n        let filter = name.substr(4);\r\n        this.filterFields[filter].push(value);\r\n        inpt.attr('checked', 'checked');\r\n        inpt.closest('li').children('.js-accordion').trigger('click');\r\n      }\r\n    }.bind(this));\r\n\r\n    this.getFilterSettings(this.filterUpdated.bind(this));\r\n  }\r\n\r\n  filterUpdated(results) {\r\n    this.numberResults.text(results['count']);\r\n    this.activitySecCont.html(results['html']);\r\n\r\n    if (this.currrentPage >= results['max']) {\r\n      $('.facetwp-load-more').hide();\r\n    } else {\r\n      $('.facetwp-load-more').show();\r\n    }\r\n\r\n    let filters = ['type', 'length', 'difficulty'];\r\n\r\n    $.each(filters, function(index, f) {\r\n      $.each(results[f], function(index, value) {\r\n        let checkbox = $(\".facetwp-checkbox[data-value='\" + value.slug + \"']\");\r\n        let inCheckbox = checkbox.children('input').eq(0);\r\n        if (this.filter !== f) {\r\n          checkbox.children('.facetwp-counter').html(\"(\" + value.count + \")\");\r\n        }\r\n\r\n        if (f === 'difficulty') {\r\n          if (!value.count) {\r\n            checkbox.css('display', 'none');\r\n          }\r\n          else {\r\n            checkbox.removeAttr('style');\r\n          }\r\n        }\r\n        if (!value.count) {\r\n          if (this.filter !== f) {\r\n            checkbox.addClass('disabled');\r\n            inCheckbox.addClass('disabled');\r\n            inCheckbox.prop('disabled', true);\r\n          }\r\n          return;\r\n        }\r\n\r\n        checkbox.removeClass('disabled');\r\n        inCheckbox.removeClass('disabled');\r\n        inCheckbox.prop('disabled', false);\r\n      });\r\n    })\r\n  }\r\n\r\n  updateBannerFilter(results) {\r\n    $('.facetwp-facet').each(function (index, item) {\r\n      var category = $(item).data('name');\r\n      category = category.substring(category.indexOf('_')+1);\r\n\r\n      var selectedIndex = $(`#${category}`).prop('selectedIndex');\r\n      $(`#${category}`).empty();\r\n\r\n      let filter = category.substring(category.indexOf('_')+1);\r\n      if (this.filter === undefined || this.filter !== category || (this.filter === category && $(item).val() == \"\")) {\r\n        $(`#${category}`).append(`<option value=\"\">${this.capitalize(category)}</option>`);\r\n        $.each(results[filter], function (key, value) {\r\n          if (value['count'] !== 0 || category === this.filter) {\r\n            let title = value['title'];\r\n            let slug = value['slug'];\r\n            if (category === 'difficulty') {\r\n              title = title.substr(0, title.length-1) + ' ' + title.substr(-1);\r\n            }\r\n            $(`#${category}`).append(`<option value=\"${slug}\">${title} (${value['count']})</option>`);\r\n          }\r\n        }.bind(this));\r\n        $(`#${category}`).selectric('refresh');\r\n        $(`#${category}`).prop('selectedIndex', selectedIndex).selectric('refresh');\r\n      }\r\n    }.bind(this));\r\n  }\r\n\r\n  capitalize(s) {\r\n    const words = s.split('_');\r\n    $.each(words, function(i, word) {\r\n      words[i] = word[0].toUpperCase() + word.substring(1);\r\n    });\r\n    return words.join(' ');\r\n  }\r\n\r\n  getParams() {\r\n    let params = '';\r\n    let index = 0;\r\n    for (const key in this.filterFields) {\r\n      if (this.filterFields[key].length) {\r\n        if (index) {\r\n          params += '&'\r\n        }\r\n        params = params.concat(key, '=', this.filterFields[key].join(','));\r\n        index++;\r\n      }\r\n    }\r\n    return params;\r\n  }\r\n\r\n  getParameterByName(name, url) {\r\n    if (!url) url = window.location.href;\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n        results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n  }\r\n\r\n  getFilterSettings(cb=null) {\r\n    let params = this.getParams();\r\n\r\n    if (this.slug.length) {\r\n      params = (params.length) ? '&' + params : '';\r\n      params = 'slug=' + this.slug + params;\r\n    }\r\n    return $.getJSON(ventureoutdoorsData.root_url + '/wp-json/ventureoutdoors/v1/filter?' + params,  cb);\r\n  }\r\n}\r\n\r\nexport default PageFilter;\r\n"],"names":["$","PageFilter","constructor","currrentPage","activitySearch","isSidebarFilter","length","url","window","location","pathname","split","slug","numberResults","resetFilterFields","sideFilter","activitySecCont","initializeFilterFields","getFilterSettings","events","on","toggleSideFilter","bind","loadMore","checkboxChanged","selectedOptionChanged","filterRedirect","e","is","slideDown","slideUp","removeAttr","data","action","paged","key","filterFields","ajax","type","context","dataType","success","res","max","hide","append","html","currentTarget","filter","parent","substr","hasClass","removeClass","index","indexOf","splice","addClass","push","filterUpdated","then","animate","scrollTop","offset","top","substring","val","difficulty","updateBannerFilter","queryString","actType","actLength","actDifficulty","encodeURIComponent","join","each","name","value","getParameterByName","inpt","attr","closest","children","trigger","results","text","show","filters","f","checkbox","inCheckbox","eq","count","css","prop","item","category","selectedIndex","empty","undefined","capitalize","title","selectric","s","words","i","word","toUpperCase","getParams","params","concat","href","replace","regex","RegExp","exec","decodeURIComponent","cb","getJSON","ventureoutdoorsData","root_url"],"sourceRoot":""}